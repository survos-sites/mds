digraph workflow {
  ratio="compress" rankdir="TB" label=<<B>GrpWorkflow</B>>
  node [fontsize="8" fontname="Arial" color="lightBlue" style="filled" fixedsize="false" width="2" height="1"];
  edge [fontsize="7" fontname="Arial" color="#333333" arrowhead="normal" arrowsize="0.5"];

  place_new [label=<<B>new</B>>, shape=oval fillcolor="lightgreen" style="filled"];
  place_ready [label=<<B>ready</B><BR/><I>has initial API key</I>>, shape=oval fillcolor="lightgreen" style="filled"];
  place_extracting [label=<<B>extracting</B>>, shape=oval fillcolor="lightgreen" style="filled"];
  place_finished [label=<<B>finished</B>>, shape=oval fillcolor="lightgreen" style="filled"];
  transition_0 [label=<<B>get_api_key</B><BR/><I>fetch the initial<BR/>API key</I><BR/><BR/>Then: extract>, shape="box" regular=""];
  transition_1 [label=<<B>extract</B><BR/><I>create the extract?</I><BR/>Via: grp_extract>, shape="box" regular=""];
  transition_2 [label=<<B>finish</B>>, shape="box" regular=""];
  place_new -> transition_0 [style="solid", comment="new"];
  transition_0 -> place_ready [style="solid"];
  place_ready -> transition_1 [style="solid", comment="ready"];
  transition_1 -> place_extracting [style="solid"];
  place_extracting -> transition_2 [style="solid", comment="extracting"];
  transition_2 -> place_finished [style="solid"];
}
