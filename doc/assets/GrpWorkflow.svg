<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: workflow Pages: 1 -->
<svg width="487pt" height="760pt"
 viewBox="0.00 0.00 487.00 760.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 756)">
<title>workflow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-756 483,-756 483,4 -4,4"/>
<text text-anchor="start" x="197.5" y="-8.8" font-family="Times,serif" font-weight="bold" font-size="14.00">GrpWorkflow</text>
<!-- place_basic -->
<g id="node1" class="node">
<title>place_basic</title>
<ellipse fill="lightgreen" stroke="lightBlue" cx="407" cy="-707" rx="72" ry="36"/>
<text text-anchor="start" x="396" y="-709.6" font-family="Arial" font-weight="bold" font-size="8.00">basic</text>
<text text-anchor="start" x="364.5" y="-701.6" font-family="Arial" font-style="italic" font-size="8.00">created during load:Grp</text>
<text text-anchor="middle" x="209.5" y="-745.6" font-family="Arial" font-size="8.00">Place basic: Basic data from https://museumdata.uk/explore&#45;collections</text>
</g>
<!-- transition_get_api_key -->
<g id="node5" class="node">
<title>transition_get_api_key</title>
<polygon fill="lightBlue" stroke="lightBlue" points="479,-635 335,-635 335,-563 479,-563 479,-635"/>
<text text-anchor="start" x="383" y="-601.6" font-family="Arial" font-weight="bold" font-size="8.00">get_api_key</text>
<text text-anchor="start" x="367" y="-593.6" font-family="Arial" font-style="italic" font-size="8.00">fetch the initial API key</text>
<text text-anchor="middle" x="167.5" y="-637.6" font-family="Arial" font-size="8.00">Transition get_api_key: fetch key from https://museumdata.uk/get&#45;api&#45;token/get_api_token.php</text>
</g>
<!-- place_basic&#45;&gt;transition_get_api_key -->
<!-- basic -->
<g id="edge1" class="edge">
<title>place_basic&#45;&gt;transition_get_api_key</title>
<path fill="none" stroke="#333333" d="M407,-671C407,-661.24 407,-650.56 407,-640.51"/>
<polygon fill="#333333" stroke="#333333" points="408.75,-640.33 407,-635.33 405.25,-640.33 408.75,-640.33"/>
</g>
<!-- place_ready -->
<g id="node2" class="node">
<title>place_ready</title>
<ellipse fill="lightgreen" stroke="lightBlue" cx="407" cy="-491" rx="72" ry="36"/>
<text text-anchor="start" x="396" y="-501.6" font-family="Arial" font-weight="bold" font-size="8.00">ready</text>
<text text-anchor="start" x="376" y="-493.6" font-family="Arial" font-style="italic" font-size="8.00">has initial API key</text>
<text text-anchor="start" x="383" y="-477.6" font-family="Arial" font-size="8.00">Then: extract</text>
<text text-anchor="middle" x="311.5" y="-529.6" font-family="Arial" font-size="8.00">Place ready: </text>
</g>
<!-- transition_extract -->
<g id="node6" class="node">
<title>transition_extract</title>
<polygon fill="lightBlue" stroke="lightBlue" points="479,-419 335,-419 335,-347 479,-347 479,-419"/>
<text text-anchor="start" x="393" y="-393.6" font-family="Arial" font-weight="bold" font-size="8.00">extract</text>
<text text-anchor="start" x="372.5" y="-385.6" font-family="Arial" font-style="italic" font-size="8.00">create initial extract</text>
<text text-anchor="start" x="378.5" y="-369.6" font-family="Arial" font-size="8.00">Via: grp_extract</text>
<text text-anchor="middle" x="181.5" y="-421.6" font-family="Arial" font-size="8.00">Transition extract: fetch data using token, AND create the next extract from next_token</text>
</g>
<!-- place_ready&#45;&gt;transition_extract -->
<!-- ready -->
<g id="edge3" class="edge">
<title>place_ready&#45;&gt;transition_extract</title>
<path fill="none" stroke="#333333" d="M407,-455C407,-445.24 407,-434.56 407,-424.51"/>
<polygon fill="#333333" stroke="#333333" points="408.75,-424.33 407,-419.33 405.25,-424.33 408.75,-424.33"/>
</g>
<!-- place_extracting -->
<g id="node3" class="node">
<title>place_extracting</title>
<ellipse fill="lightgreen" stroke="lightBlue" cx="407" cy="-275" rx="72" ry="36"/>
<text text-anchor="start" x="387" y="-274.1" font-family="Arial" font-weight="bold" font-size="8.00">extracting</text>
<text text-anchor="middle" x="304.5" y="-313.6" font-family="Arial" font-size="8.00">Place extracting: </text>
</g>
<!-- transition_finish -->
<g id="node7" class="node">
<title>transition_finish</title>
<polygon fill="lightBlue" stroke="lightBlue" points="479,-203 335,-203 335,-131 479,-131 479,-203"/>
<text text-anchor="start" x="395.5" y="-166.1" font-family="Arial" font-weight="bold" font-size="8.00">finish</text>
<text text-anchor="middle" x="305.5" y="-205.6" font-family="Arial" font-size="8.00">Transition finish: </text>
</g>
<!-- place_extracting&#45;&gt;transition_finish -->
<!-- extracting -->
<g id="edge5" class="edge">
<title>place_extracting&#45;&gt;transition_finish</title>
<path fill="none" stroke="#333333" d="M407,-239C407,-229.24 407,-218.56 407,-208.51"/>
<polygon fill="#333333" stroke="#333333" points="408.75,-208.33 407,-203.33 405.25,-208.33 408.75,-208.33"/>
</g>
<!-- place_finished -->
<g id="node4" class="node">
<title>place_finished</title>
<ellipse fill="lightgreen" stroke="lightBlue" cx="407" cy="-59" rx="72" ry="36"/>
<text text-anchor="start" x="390.5" y="-58.1" font-family="Arial" font-weight="bold" font-size="8.00">finished</text>
<text text-anchor="middle" x="308" y="-97.6" font-family="Arial" font-size="8.00">Place finished: </text>
</g>
<!-- transition_get_api_key&#45;&gt;place_ready -->
<g id="edge2" class="edge">
<title>transition_get_api_key&#45;&gt;place_ready</title>
<path fill="none" stroke="#333333" d="M407,-563C407,-553.24 407,-542.56 407,-532.51"/>
<polygon fill="#333333" stroke="#333333" points="408.75,-532.33 407,-527.33 405.25,-532.33 408.75,-532.33"/>
</g>
<!-- transition_extract&#45;&gt;place_extracting -->
<g id="edge4" class="edge">
<title>transition_extract&#45;&gt;place_extracting</title>
<path fill="none" stroke="#333333" d="M407,-347C407,-337.24 407,-326.56 407,-316.51"/>
<polygon fill="#333333" stroke="#333333" points="408.75,-316.33 407,-311.33 405.25,-316.33 408.75,-316.33"/>
</g>
<!-- transition_finish&#45;&gt;place_finished -->
<g id="edge6" class="edge">
<title>transition_finish&#45;&gt;place_finished</title>
<path fill="none" stroke="#333333" d="M407,-131C407,-121.24 407,-110.56 407,-100.51"/>
<polygon fill="#333333" stroke="#333333" points="408.75,-100.33 407,-95.33 405.25,-100.33 408.75,-100.33"/>
</g>
</g>
</svg>
